<div *ngIf="task" class="task-progress">
  <h1 *ngIf="showName">{{task.threadName}}</h1>
  <div class="components">
    <progress value="{{task.percentComplete}}" max="100"
              title="{{task.percentComplete + '% ' + task.status}}"
              #progress>
      <div class="progress-container">
        <div class="progress"
             title="{{task.percentComplete + '% ' + task.status}}"
             [style.width]="task.percentComplete + '%'">&nbsp;</div>
      </div>
    </progress>
    <lib-button *ngIf="cancelButton && task.running"
                (press)="cancelTask()" [processing]="cancelling"
                i18n-title title="Cancel task"
                img="cross-mark.svg" icon="Ã—"
              >
    </lib-button>
  </div>
  <div class="text">
    <div class="task-start-time" [style.display]="displayStartTime ? 'block' : 'none'">{{task.creationTime | date: 'medium'}}</div>
    <div *ngIf="showStatus" class="task-status">{{task.status}}</div>
    <div *ngIf="showStatus && task.resultUrl" class="task-result">
      <a href="{{task.resultUrl}}" target="task-{{threadId}}" #resultAnchor>
        <span *ngIf="task.resultText">{{task.resultText}}</span>
        <span *ngIf="!task.resultText" i18n="Default task result text">Open Results</span>
      </a>
    </div>
    <div *ngIf="task.lastException && showLastException" class="error">{{task.lastException}}</div>
    <div *ngIf="task.stackTrace && showStackTrace" class="error">{{task.stackTrace}}</div>
  </div>
</div>
